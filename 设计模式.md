#### 如何学习一项技术

* 它是什么？
* 为什么用它？
* 通俗理解/解释他的原理
  * 比如Servlet？

#### 常见口语

* 可维护性
  * 易修改变动
* 可复用性
* 可拓展性

#### 观察者模式

* 用来监听改变后通知其他类做出改变

#### 单例模式

* 饿汉模式

  * 初始化时创建对象，浪费资源

* 懒汉

  * 简单懒汉
    * 静态方法内创建并返回实例。
  * 加锁/双锁
    * synchronize的方法锁和类锁
    * volatile防止重排

* 静态内部类懒汉式（推荐使用）

  * 匿名内部类

    * 需要先有内部类接口

  * 静态内部类

    ```java
    public class Java3y {
    
        private Java3y() {
        }
        // 使用内部类的方式来实现懒加载
        private static class LazyHolder {
            // 创建单例对象
            private static final Java3y INSTANCE = new Java3y();
        }
        // 获取对象
        public static final Java3y getInstance() {
            return LazyHolder.INSTANCE;
        }
        
    }
    ```

* 枚举方式 ?

#### 工厂模式 

* 工厂模式
  * 一个顶级工厂接口
  * 多个实现类工厂
  * 实体类
* 简单工厂
  * 一个工厂类，通过参数来确定实例化哪一个对象
  * 实体类
* 抽象工厂
  * 一个顶级类
  * 多类实现类工厂
    * 它里面有具体要实例化的各种动物（继承于顶级类工厂）
  * 实体类
* 简单工厂和工厂区别
  * 实现了开放封闭原则
  * 封装了创建雷锋类的方式
  * 将case选择从后台移到了前台

#### 策略模式

* 策略模式和简单工厂模式
  * 简单工厂模式侧重生产对象，不需要客户端创建对象，但是需要自己调用算法类的方法
  * 策略侧重方法，策略模式的context类把客户端要操作的方法也封装了，客户端负责创建对象context，但不用自己调用算法类的方法，依赖更少
  * 参考：https://blog.csdn.net/zwj_jyzl/article/details/80869905
  * 简单工厂＋策略可以实现将swich都转移出客户端。
    * 好处未知

#### 设计原则

* 单一职责
  * 拆分逻辑（封装）
    * 易复用
    * 易修改（维护）
* 开放封闭原则
  * 对修改旧代码关闭，对拓展开放
  * 是在单一职责的基础上才能使用
  * 不是所有的都要封装
    * 当事情开始变化时立即修改，不要重蹈覆辙
* 依赖倒置
  * 对接口和抽象类编程，而不是具体的实现
  * 是面向对象编程的标志
  * 如主板通过接口编程可适配多种内存条

#### 装饰模式

* 优点：
  - 装饰类和被装饰类是可以**独立**的，低耦合的。互相都不用知道对方的存在
  - 装饰模式是继承的一种**替代**方案，**无论包装多少层，返回的对象都是is-a的关系**(上面的例子：包装完还是Phone类型)。
  - 实现动态扩展，只要**继承了装饰器**就可以**动态**扩展想要的功能了。
* 缺点：
  - 多层装饰是比较复杂的，提高了系统的复杂度。不利于我们调试~

#### 代理模式

* 静态代理
  * 透明代理
    * 只为某人服务
  * 代理类自定义方法
    * 大V加钱
* 动态代理
  * 通过三个参数，动态生成代理（aop）
    * getClass().getClassLoader()
    * getClass().getInterface()
    * (proxy,method,args)

#### 一般来说，实现对象增强有三种方式：

- **继承**
  - 继承父类，子类扩展
- **装饰器模式**
  - 使用“包装”的方式来增强对象
- **代理模式**
  - [给女朋友讲解么是代理模式](https://mp.weixin.qq.com/s?__biz=MzI4Njg5MDA5NA==&mid=2247484222&idx=1&sn=5191aca33f7b331adaef11c5e07df468&chksm=ebd7423fdca0cb29cdc59b4c79afcda9a44b9206806d2212a1b807c9f5879674934c37c250a1#rd)

#### 组合、聚合、关联、依赖

* 组合是不可分割的，离开整体毫无意义 new
* 聚合是可分割的 new
* 关联包括聚合和组合，一般为属性
* 依赖才是引用，不是属性
* is-a是指继承、has-a是指组合
  * C++有区别
